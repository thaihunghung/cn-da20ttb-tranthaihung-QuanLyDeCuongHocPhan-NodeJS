<script>
    // Gọi function để tạo ra các phần tử <li>
    async function updateValue(id, newValue, check) {
        const spanElement = document.getElementById(id);
        if (spanElement) {
            if (check === 'DUPO') {
                var value, resust = spanElement.textContent
                const cleanResust = cleanUpString(resust);

                var arr = cleanResust.split(',').map(function (item) {
                    return item.trim();
                }).filter(function (item) {
                    return item !== '';
                });
                console.log(arr)
                if (arr.length === 0) {
                    spanElement.textContent = newValue;
                } else {
                    if (!arr.includes(newValue)) {
                        arr.push(newValue);
                        arr.sort(
                            function (a, b) {
                                const numA = parseInt(a.match(/\d+/)[0]);
                                const numB = parseInt(b.match(/\d+/)[0]);
                                return numA - numB;
                            });
                        }
                    spanElement.textContent = arr.join(', ');
                }
            } else if (check === 'CDR') {
                var value, resust = spanElement.textContent
                const cleanResust = cleanUpString(resust);

                var arr = cleanResust.split(',').map(function (item) {
                    return item.trim();
                }).filter(function (item) {
                    return item !== '';
                });
                if (arr.length === 0) {
                    spanElement.textContent = newValue;
                } else {
                    if (!arr.includes(newValue)) {
                        arr.push(newValue);
                        arr.sort();
                    }
                    spanElement.textContent = arr.join(', ');
                }
            } else if (check === 'TUA') {
                spanElement.textContent = newValue;
            }

        }
    }
</script>
{{>StringID}}